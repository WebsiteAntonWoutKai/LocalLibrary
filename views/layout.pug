
doctype html
head
  meta(charset='utf-8')
  meta(name='viewport' content='width=device-width, initial-scale=1')
  title Home
  link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' rel='stylesheet')
  script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js')
  <link href="https://unpkg.com/filepond/dist/filepond.css" rel="stylesheet">
  <link href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css" rel="stylesheet">
  <script defer src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
  <script defer src="https://unpkg.com/filepond-plugin-file-encode/dist/filepond-plugin-file-encode.js"></script>
  <script defer src="https://unpkg.com/filepond-plugin-image-resize/dist/filepond-plugin-image-resize.js"></script>
  <script defer src="https://unpkg.com/filepond/dist/filepond.js"></script>
  <script defer src="/javascripts/fileUpload.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  script(src='/javascripts/autocomplete.js')
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDAsnSthYOm7NG8-xGgyWcx-HekizhhWEI&libraries=places&callback=initAutocomplete" async defer></script>
  script(src="https://code.jquery.com/jquery-3.5.1.slim.min.js", integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj", crossorigin="anonymous")
  script(src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js", integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV", crossorigin="anonymous")
   
  link(rel='stylesheet', href='/stylesheets/style.css')

body
  div(class="m-4")
    nav(class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark")
      div(class="container-fluid")

        a(class="navbar-brand" href='/')
          img(src="/images/brandLogo.jpg" alt="Ellulove", style='width:50px; height:50px;')

        button(class="navbar-toggler" type='button' data-bs-toggle='collapse' data-bs-target='#navbarCollapse')
          span(class="navbar-toggler-icon")

        div(id="navbarCollapse" class="collapse navbar-collapse")
          ul(class= "nav navbar-nav")
            li(class="nav-item")
              a(class="nav-link active" aria-current="page" href='/catalog') Home
            li(class="nav-item")
              a(class="nav-link" href= '/catalog/items') All Items
            li(class="nav-item")
              a(class="nav-link" href='/catalog/categories') All categories
            li(class="nav-item")
              a(class="nav-link" href='/catalog/contact/create') Contact


          ul(class="nav navbar-nav ms-auto")
            li(class="nav-item dropdown")
              a(class="nav-link dropdown-toggle" href='/users/login' data-bs-toggle='dropdown') Account

              if(user)
                if(user.isAdmin)
                  div(class="dropdown-menu dropdown-menu-end")
                    a(class="dropdown-item" href='/users/login') Account Detail
                    div(class="dropdown-divider")
                    a(class="dropdown-item" href='/admin/:id/addProduct') Add Product
                    div(class="dropdown-divider")
                    a(class="dropdown-item" href='/admin/:id/addCategory') Add Category
                    div(class="dropdown-divider")
                    a(class="dropdown-item" href=user.url+'/logout') Logout
                else 
                  div(class="dropdown-menu dropdown-menu-end")
                    a(class="dropdown-item" href='/users/login') Account Detail
                    div(class="dropdown-divider")
                    a(class="dropdown-item" href=user.url+'/logout') Logout
              else 
                 div(class="dropdown-menu dropdown-menu-end")
                   a(class="dropdown-item" href='/users/login') Login
                   div(class="dropdown-divider")
                   a(class="dropdown-item" href='/users/register') Register

    div(class='col-sm-10')
          block content